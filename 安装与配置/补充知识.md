## Linux命令总结

#### 1. 输入输出重定向
|类型|文件描述符|文件句柄位置|
|---|---|---|
|stdin|0|/proc/self/fd/0|
|stdout|1|/proc/self/fd/1|
|stderr|2|/proc/self/fd/2|

##### 重定向类型：
|命令|含义|补充|
|---|---|---|
|cmd>file|标准输出重定向到file|从头写，若file存在则删除新建|
|cmd 1>file|标准输出重定向到file|
|cmd 2>file|标准错误重定向到file|存在则重新建|
|cmd>>file|追加标准错误重定向到file|
|cmd<file|标准输入到file|
|cmd 0<file|标准输入到file|

##### 重定向绑定
* ```cmd >/dev/null 2>&1```
    * 从左往右解析，先将标注输出fd1重定向到```/dv/null```
    * 然后绑定```2>&1```将标准错误fd2重定向到```&1```，即为标准错误的输出与fd1一样，**fd1、fd2输出都被丢弃**
* ```cmd 2>&1 >/dev/null```
    * 从左往右，fd2的输出绑定到fd1，即为终端文件
    * 然后fd1绑定到```/dev/null```，被抛弃。**fd1输出被抛弃，fd1未被抛弃**
* ```cmd >out 2>out```
    此时文件打开两次，造成竞争，而```>out 2>&1```时fd1有buffer，将fd2导入其中比较安全

##### 应用
后台执行程序
```shell
$ nohup <command> >/dev/null 2>&1 &

$ nohup <command> >log.out & #保留输出
$ nohup <command> >log.out 2>&1& #保留输出和错误
$ tial -f log.out #查看结果并不断刷新
```

#### 2.rsa证书
```shell
openssl genrsa -out https.key 2048
openssl req -new -x509 -key https.key -out https.cert -days 3650 -subj /CN=www.kubia-example.com
```